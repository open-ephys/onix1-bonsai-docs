<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class StartAcquisition </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class StartAcquisition ">
      
      <meta name="description" content="Starts data acquisition and frame distribution on a .">
      <link rel="icon" href="../favicon.png">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/open-ephys/onix-bonsai-onix1/new/main/apiSpec/new?filename=OpenEphys_Onix1_StartAcquisition.md&amp;value=---%0Auid%3A%20OpenEphys.Onix1.StartAcquisition%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="OpenEphys.Onix1.StartAcquisition">


    <div>
      <h1 id="OpenEphys_Onix1_StartAcquisition" data-uid="OpenEphys.Onix1.StartAcquisition" class="text-break" style="display: inline-block;">
    StartAcquisition
    <a class="header-action link-secondary" title="View source" href="https://github.com/open-ephys/onix-bonsai-onix1/blob/main/OpenEphys.Onix1/StartAcquisition.cs/#L41"><i class="bi bi-code-slash"></i></a>
      </h1>
        <p style="display: inline; text-transform: capitalize"> combinator Operator</p>
    </div>

    <div><p>Starts data acquisition and frame distribution on a <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTask</a>.</p>
<p>The <a href="https://open-ephys.github.io/ONI/">Open Neuro Interface (ONI)</a> hardware
specification and API describe a general purpose acquisition system architecture and programming
interface for communication with a host PC. One requirement of ONI is a sequence of events that must
occur in order to start synchronized data acquisition. <a class="xref" href="OpenEphys.Onix1.StartAcquisition.html">StartAcquisition</a> performs these
required actions on one or more <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTasks</a> provided in its input
sequence. Once acquisition is started, devices managed by a particular <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTask</a> will
start to produce data in a format called an <a href="https://open-ephys.github.io/ONI/hw-spec/controller.html#data-frames">ONI Data Frame</a>. The output
sequence of this operator is therefore a <a class="xref" href="https://horizongir.github.io/reactive/api/System.Reactive.Linq.IGroupedObservable-2.html">IGroupedObservable&lt;TKey, TElement&gt;</a>, where</p>
<table><tbody><tr><td class="term">Tkey</td><td class="description">
Is the address of a particular hardware device within a single <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTask</a>.
</td></tr><tr><td class="term">TElement</td><td class="description">
Is a ONI Frame produced by the device with address Tkey.
</td></tr></tbody></table>
These pre-sorted frame sequences can be interpreted by downstream Data I/O operators (e.g. <a class="xref" href="OpenEphys.Onix1.AnalogInput.html">AnalogInput</a> or <a class="xref" href="OpenEphys.Onix1.Bno055Data.html">Bno055Data</a>) that convert <a href="https://open-ephys.github.io/ONI/hw-spec/controller.html#data-frames">ONI Data Frames</a> into
data types that are are more amenable to processing within Bonsai workflows.
</div>

      <div class="workflow"><p><img src="../workflows/operators/StartAcquisition.bonsai" alt="StartAcquisition Workflow"></p></div>
        <h2>Inputs & Outputs</h2>

        <div><p>Starts data acquisition and frame distribution on a <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTask</a> and returns the
sequence of all received <span class="xref">oni.Frame</span> objects, grouped by device address.</p>
</div> 

        <table style="border: 0px; table-layout: fixed; padding: 0; margin: 0; margin-bottom: 1rem;">
          <tr style="border: 0px;">

          <!-- input -->

          <td style="border: 0px; vertical-align: middle; margin: 0; padding: 0; width: 45%;">
            <table style="table-layout: fixed; padding: 0; margin: 0; vertical-align: middle;">
            <tr style="border: 0px;">
              <td style="border: 1px solid; vertical-align: middle; width: 80%; border-color: var(--bs-border-color);">
              <div class="tableFormat"><p>The sequence of <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTask</a> objects on which to start data acquisition and frame
distribution.</p>
</div>
              </td>
              <td style="text-align: right; vertical-align: middle; margin: 0; padding: 0; width: 20%; border: 0px;">
              <img src="../images/right-arrow.svg" alt="right-arrow">
              </td>
            </tr>
            </table>
          </td>

          <!-- operator -->

          <td style="border: 0px; text-align: center; vertical-align: middle; margin: 0; padding: 0; width: 10%;">
            <img src="../images/combinator-operator.svg" alt="representation of a combinator operator">
          </td>

          <!-- output -->

          <td style="border: 0px; vertical-align: middle; margin: 0; padding: 0; width: 45%;">
            <table style="table-layout: fixed; padding: 0; margin: 0; vertical-align: middle;">
            <tr style="border: 0px;">
              <td style="border: 0px; vertical-align: middle; margin: 0; padding: 0; width: 20%;">
              <img src="../images/right-arrow.svg" alt="right-arrow">
              </td>
              <td style="border: 1px solid; vertical-align: middle; width: 80%; border-color: var(--bs-border-color);">
              <div class="tableFormat"><p>A sequence of data frames produced by each <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTask</a> in the input sequence and
grouped by device address.</p>
</div>
              </td>
            </tr>
            </table>
          </td>
          </tr>
        </table>


    <h2>Properties</h2>


      <table>
        <tr>
          <th style="white-space: nowrap;">Property</th>
          <th style="white-space: nowrap;">Type</th> 
          <th>Description</th>
        </tr>
          <tr>

            <td style="white-space: nowrap;">
              <code>ReadSize</code>
            </td>

            <td style="white-space: nowrap;">
    <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>
            </td>

            <td>
              <div class="tableFormat">
      <p>Gets or sets the number of bytes read per cycle of the <a class="xref" href="OpenEphys.Onix1.ContextTask.html">ContextTask</a>'s acquisition
thread.</p>
<p>This option allows control over a fundamental trade-off between closed-loop response time and
available bandwidth. A minimal value, which is determined by <a class="xref" href="OpenEphys.Onix1.ContextTask.html">MaxReadFrameSize</a>, will provide the lowest response latency, so long as data
can be cleared from hardware memory fast enough to prevent buffering. Larger values will both
reduce system call frequency and reduce the number of function calls per unit time performed by
Bonsai, and therefore, increase available bandwidth. Larger values may improve processing
performance for high-bandwidth data sources. The optimal value depends on the host computer and
hardware configuration and must be determined via testing (e.g. using <a class="xref" href="OpenEphys.Onix1.MemoryMonitorData.html">MemoryMonitorData</a>).</p>

              </div>
            </td>

          </tr>          <tr>

            <td style="white-space: nowrap;">
              <code>WriteSize</code>
            </td>

            <td style="white-space: nowrap;">
    <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>
            </td>

            <td>
              <div class="tableFormat">
      <p>Gets or sets the number of bytes that are pre-allocated for writing data to hardware.</p>
<p>This value determines the amount of memory that is pre-allocated for calls to <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.uint32">Write(uint, IntPtr, int)</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.uint32">Write&lt;T&gt;(uint, T)</a>, and
<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.uint32">Write&lt;T&gt;(uint, T[])</a>. A larger size will reduce the frequency of
dynamic memory allocation system calls but increase the expense of each of those calls. The minimum
size of this option is determined by <a class="xref" href="OpenEphys.Onix1.ContextTask.html">MaxWriteFrameSize</a>. The effect on
real-time performance is typically not as large as that of <a class="xref" href="OpenEphys.Onix1.ContextTask.html">BlockReadSize</a>
because this parameter defines a readily-available pool of memory for the creation of output data
frames, but does not determine when they are written to hardware. Data is written to hardware as
soon as an output frame has been created. In contrast data is read from hardware whenever more than
<a class="xref" href="OpenEphys.Onix1.StartAcquisition.html">ReadSize</a> bytes have accumulated in the input buffer.</p>

              </div>
            </td>

          </tr>      </table>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/open-ephys/onix-bonsai-onix1/blob/main/OpenEphys.Onix1/StartAcquisition.cs/#L41" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          &copy; 2024 Open Ephys and Contributors. Made with <a href="https://dotnet.github.io/docfx">docfx</a>
        </div>
      </div>
    </footer>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>NeuropixelsV1e Bno055 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="NeuropixelsV1e Bno055 ">
      
      
      <link rel="icon" href="../../../favicon.png">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/open-ephys/bonsai-onix1-docs/blob/main/articles/hardware/np1e/bno055.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="np1e_bno055">
          <h1>NeuropixelsV1e Bno055</h1>



  <p>
    The following excerpt from the NeuropixelsV1e Headstage <a class="xref" href="overview.html">example workflow</a> demonstrates Bno055 functionality, saves Bno055 data, and commutates the NeuropixelsV1e Headstage if there is a proper commutator connection.
  </p> 

  <div class="workflow"> 
    <p><img src="../../../workflows/hardware/np1e/bno055.bonsai" alt="~/workflows/hardware/np1e/bno055.bonsai workflow"></p>
  </div>

  <p>
    The <code>PolledBno055Data</code> operator generates a sequence of <a class="xref" href="../../../api/OpenEphys.Onix1.Bno055DataFrame.html">Bno055DataFrames</a>. The <code>DeviceName</code> property is set to "NeuropixelsV1eHeadstage/PolledBno055Data". This links the <code>PolledBno055Data</code> operator to the corresponding configuration operator.
  </p>

  <p>
    The <a class="xref" href="https://bonsai-rx.org/docs/api/Bonsai.IO.CsvWriter.html">CsvWriter</a> operator writes the entire <code>Bno055DataFrame</code> to a file with the following format: <code>bno055_&lt;timestamp&gt;.csv</code>. Because <code>CsvWriter</code> is a <em>sink</em> operator, its output sequence is equivalent to its input sequence (i.e., <code>PolledBno055Data</code>'s output). This means that the <code>Quaternion</code> property (originally from <code>PolledBno055Data</code>) can be selected from the <code>CsvWriter</code> operator by right-clicking the operator and selecting the proper Output property. 
  </p>

  <p>
    <code>Quaternion</code> values are passed to the "AutoCommutator" <code>IncludeWorkflow</code> operator, which will automatically commutate the headstage if there is a proper commutator connected. "AutoCommutator" comes from the <code>OpenEphys.Commutator</code> Bonsai package. Its properties allow you to enable/disable the LED on the commutator using the <code>LedEnable</code> property, set the COM port using the <code>PortName</code> property, and set the orientation of the Bno055 orientation sensor using the headstage <code>RotationAxis</code> property. The <code>RotationAxis</code> is already correctly set for the NeuropixelsV1e Headstage. However, the correct COM port value varies from system to system. You must find and set the correct COM port to which your commutator is connected in your system.
  </p>

  <div class="NOTE alert alert-info">
    <h5>NOTE</h5>
    <p>To remove automated commutation, simply delete the last node by selecting it and pressing <kbd>Delete</kbd>.</p>
  </div>  
  
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/open-ephys/bonsai-onix1-docs/blob/main/articles/hardware/np1e/bno055.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          &copy; 2024 Open Ephys and Contributors. Made with <a href="https://dotnet.github.io/docfx">docfx</a>
        </div>
      </div>
    </footer>
  </body>
</html>
